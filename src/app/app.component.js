import ProductModel from './product/product.model';

class AppComponent {
  constructor(productService) {
    this.productService = productService;
  }

  getDefaultImage() {
    return {
      image: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJoAAACbCAQAAAAwqko5AAAJKWlDQ1BpY2MAAHjalZFnUJSHFobP933bC22XpcPSm1QpC0hZepVeRQWW3lmWImJDxAhEFBFpiiCigIJRKRIrolgICopY0CwSBJQYjCIqKPdH7kyceyc/8vx65p13zjkzB4AiBgCAigGkpAr4fi727JDQMDZ8RyQvM53r4+MJ/8jHUUAAAB6sgn8PJTomkwcAywCQz0vnCwCQXADQyhGkCwCQowDAjEpKFwAg5wGAyQ8JDQNAbgEAM+4vHwcAZtRfPg8ATH6AnwMAigMg0eK+86jv/L97AQBUuHxBQmxMLts/LVaQE8mPYWf6udiz3Rwc2D78tNiE5JjvDv5X5X9AEJMrAABwSEvfxE+Iixew/2+osaGREfz9i/e+gAAAwhr83/8AwHe9tEYAzgIAtu/vLKoaoHsXgPTTvzO1owCihQBd93hZ/Oy/MhwAAB4oIApMkAFFUAUt0ANjMAcrsAMncAdvCIBQ2AA8iIcU4EMO5MMOKIIS2AcHoQbqoQlaoB3OQjdchGtwE+7CfRiFZyCEKXgD8/ARlhAEISJ0hIHIIEqIOqKLGCMcxAZxQjwRPyQUiUDikFQkC8lHdiIlSDlSgzQgLchPyAXkGnIbGUaeIBPILPIn8gXFUBrKRBVQDdQA5aBc1AMNQNejcWgGmocWonvRKrQRPYV2odfQu+goKkTfoAsYYFSMhSljehgHc8C8sTAsFuNjW7FirBJrxNqxXmwAe4AJsTnsM46AY+DYOD2cFc4VF4jj4TJwW3GluBrcSVwXrh/3ADeBm8d9w9Px8nhdvCXeDR+Cj8Pn4IvwlfhmfCf+Bn4UP4X/SCAQWARNgjnBlRBKSCRsJpQSDhM6CFcJw4RJwgKRSJQh6hKtid7ESKKAWESsJp4iXiGOEKeIn0hUkhLJmORMCiOlkgpIlaRW0mXSCGmatEQWI6uTLcne5GjyJnIZuYncS75HniIvUcQpmhRrSgAlkbKDUkVpp9ygjFPeU6lUFaoF1ZeaQN1OraKeod6iTlA/0yRoOjQHWjgti7aXdoJ2lfaE9p5Op2vQ7ehhdAF9L72Ffp3+gv5JhCGiL+ImEi2yTaRWpEtkROStKFlUXZQrukE0T7RS9JzoPdE5MbKYhpiDWKTYVrFasQtiY2IL4gxxI3Fv8RTxUvFW8dviMxJECQ0JJ4loiUKJYxLXJSYZGEOV4cDgMXYymhg3GFNMAlOT6cZMZJYwTzOHmPOSEpImkkGSuZK1kpckhSyMpcFyYyWzylhnWY9YX6QUpLhSMVJ7pNqlRqQWpeWk7aRjpIulO6RHpb/IsGWcZJJk9st0yzyXxcnqyPrK5sgekb0hOyfHlLOS48kVy52VeyqPyuvI+8lvlj8mPyi/oKCo4KKQrlCtcF1hTpGlaKeYqFiheFlxVomhZKOUoFShdEXpNVuSzWUns6vY/ex5ZXllV+Us5QblIeUlFU2VQJUClQ6V56oUVY5qrGqFap/qvJqSmpdavlqb2lN1sjpHPV79kPqA+qKGpkawxm6Nbo0ZTWlNN808zTbNcS26lq1Whlaj1kNtgjZHO0n7sPZ9HVTHVCdep1bnni6qa6aboHtYd3gVfpXFqtRVjavG9Gh6XL1svTa9CX2Wvqd+gX63/lsDNYMwg/0GAwbfDE0Nkw2bDJ8ZSRi5GxUY9Rr9aaxjzDOuNX64mr7aefW21T2r35nomsSYHDF5bMow9TLdbdpn+tXM3Ixv1m42a65mHmFeZz7GYXJ8OKWcWxZ4C3uLbRYXLT5bmlkKLM9a/mGlZ5Vk1Wo1s0ZzTcyapjWT1irWkdYN1kIbtk2EzVEboa2ybaRto+1LO1W7aLtmu2muNjeRe4r71t7Qnm/fab/oYOmwxeGqI+bo4ljsOOQk4RToVOP0wlnFOc65zXnexdRls8tVV7yrh+t+1zE3BTeeW4vbvLu5+xb3fg+ah79HjcdLTx1PvmevF+rl7nXAa3yt+trUtd3e4O3mfcD7uY+mT4bPz74EXx/fWt9XfkZ++X4D/gz/jf6t/h8D7APKAp4FagVmBfYFiQaFB7UELQY7BpcHC0MMQraE3A2VDU0I7QkjhgWFNYctrHNad3DdVLhpeFH4o/Wa63PX394guyF5w6WNohsjN56LwEcER7RGLEd6RzZGLkS5RdVFzfMceId4b6LtoiuiZ2OsY8pjpmOtY8tjZ+Ks4w7EzcbbxlfGzyU4JNQkvEt0TaxPXEzyTjqRtJIcnNyRQkqJSLmQKpGalNqfppiWmzacrptelC7MsMw4mDHP9+A3ZyKZ6zN7BExBumAwSytrV9ZEtk12bfannKCcc7niuam5g5t0Nu3ZNJ3nnHd8M24zb3NfvnL+jvyJLdwtDVuRrVFb+7apbivcNrXdZfvJHZQdSTt+KTAsKC/4sDN4Z2+hQuH2wsldLrvaikSK+EVju6121/+A+yHhh6E9q/dU7/lWHF18p8SwpLJkuZRXeudHox+rflzZG7t3qMys7Mg+wr7UfY/22+4/WS5enlc+ecDrQFcFu6K44sPBjQdvV5pU1h+iHMo6JKzyrOqpVqveV71cE18zWmtf21EnX7enbvFw9OGRI3ZH2usV6kvqvxxNOPq4waWhq1GjsfIY4Vj2sVdNQU0DxznHW5plm0uav55IPSE86Xeyv8W8paVVvrWsDW3Laps9FX7q/mnH0z3teu0NHayOkjNwJuvM658ifnp01uNs3znOufbz6ufrOhmdxV1I16au+e74bmFPaM/wBfcLfb1WvZ0/6/984qLyxdpLkpfKLlMuF15euZJ3ZeFq+tW5a3HXJvs29j27HnL9Yb9v/9ANjxu3bjrfvD7AHbhyy/rWxduWty/c4dzpvmt2t2vQdLDzF9NfOofMhrrumd/ruW9xv3d4zfDlEduRaw8cH9x86Pbw7uja0eFHgY8ej4WPCR9HP555kvzk3dPsp0vPto/jx4ufiz2vfCH/ovFX7V87hGbCSxOOE4Mv/V8+m+RNvvkt87flqcJX9FeV00rTLTPGMxdnnWfvv173eupN+puluaLfxX+ve6v19vwfdn8MzofMT73jv1v5s/S9zPsTH0w+9C34LLz4mPJxabH4k8ynk585nwe+BH+ZXspZJi5XfdX+2vvN49v4SsrKyn8ALqKQvFCn7rEAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAJiS0dEAP+Hj8y/AAAACXBIWXMAAABIAAAASABGyWs+AAAAB3RJTUUH4QsJES4hQZ7MKQAAB7BJREFUeNrtneuZ4joMhj/PcxrwKSGnhGwJ2RKYEtgSmBKyJUAJQwlQApRASiAl6PxIgFyJr7GcjPxjWSYY+0WynViSBYGTiOz5MkOBon59pTJ0y1qtDAtNZEjqkk5eXKDAFSWuKKhQqNxfq0NAEykypMggLSo544oznQM0f15oIqlhJQ4rPeOKI11n7AZAsxQk2OHm8Qvu2COdpy/kX9OExAYbZPY1KUiBIw4zjHde9SvDHveZfv5XuWDr2W48AjvNjutVbthBRgUNm6DAHuWO3A849xVuvQ74LMC5rSxloWF9cI7HOHcVSeTB8YyXk8sFiatqtgFmSd3izFBdVJGwNMqhcseGBbQodKxZ9vb6ZvdhiX1wCPrlYju+2Xw0xSU4ALNiOZ+afzA2s+wWCzM1/ViMZtktF1Ns60VWYTMa3fQ/IKNZYKiUuwk2zedpQuKk8DQ/JinxW/e574fOxSJZHDJA4iK2mp/RMkxOzy/cFq0liLJ5LtAw2/JL3UgVzXPxyICTUO6f6piWLxwZIDWwKY1mS1mXTRXF5a7KJZwfLgbBNn1BFrwj85b99CUTs6eQuFl5XMQof+jw/oKpieB7dciAfGpCeAtN5DO5E/ASib14ryo/o5n+yDY6pq1yNGvKJx3H/jRunvmqkQH5uImOQBMZdO/8lyYJdmN/GjFPcVn8bZOKjNzED2qa2P0gAwDkI+8PzJpJ5PtMLsvgc7YhTdutfApoyuB00IMmktVPAU2RQ9NBX9N2ClWtSbZ9XetA+9GzngzoWlfTfvSsLz1da0H70bNBkdi032hr2pL0rMQBn/iXBAn8i0/8hXkkX5dLY30mg6+K3JUBV1Err+DWeq35che8q27KHdnYn5AaLtxPY9BiddHrInvr0mKMLRmAhiR4d2dARjB+uJoPQVvCRp2i45TRPu5tCFr8zi3KvmaGVvWsvV5yCLfRviFEw8+MCphEIj/XsI912sagEk6i65pnEvv+ZPSAFvdWnb43owk0+dgP/QAAkURtnAYOoIZS61qlaTHr2XzIgKamRbwjYIrMrMe1clXQYp0GzLXMcDiq0vp8ACKNdE/AxjBN1eQBLdIRzQKZ2BqrSWXWkTqHGkWa1PcDVq79jzuC+JYbdjPm3qbHQgIgRLc1bKFlDuwqI3wIGdk0YKVlYm+9C5ICH5Gt0UIjAyTwEdWIFh5ZrWnxQOOADEiAf5ya5xklCqSQHoyeB7J6reEmTvjUThOCBLnTWTnsjNkq5ATaSF4Vh1k7GCEDQdpDexs8j+3ikBEy26XtZIessXFDRshskw1l05dYYeOHzBraSe0yY2wckVlDU06sZYSNJzLCxgbaXasTuti4IiPkNtAUjdMIG19khEwrmUlHNDMX0wF/FC/lsvofERto2p6FitiYIwNsvNI0zVPRSDkb5tM8zT1RjR5eTmhbBFoG2N1GmSZtG9M2/lpG9jfsxpkVB7FFgayCZvNld4u8itteXVEgq6DZuY3m5h9tYYsGGU4EYGNZiUXy0ye2eJARvglAal2NLbaYkBFyApyk77bBtokKGWFbQXPh1+35VBM2yAhZBc3N1srs2MI47hAqBxg3zpd77RyeVjLf6r8lJVDdsLs6Z2lGbIGQPbzCHYcszmKkAT3qdoR66nQaf+cdW1AnxPQFzW0wmVdsQZHVQWXVQ0i3fvgex7ZgY1kljzgXgpdAbC/aFtw7uO7Voznuo4qdYwuO7Bld/GiQjxBZp9gYIHuGyT7+8ROM7QwbA2T1cqMBzVvYvxNsLJA1Qv9fDXPhFOUFGxNk340WPV/4S2Vid0YTD2StXjSb980PGxtkrd2QZgNtH3w7x8YGWSdZcLuRPtNMaGNjhKzjvNhupq/JwAAbK2QdB4xuU/0GlyljY4Ws5yTbbazv5DlK2Jgh6zn6dP8rvQcyTmJjhmzASbbfZP+Jmt5iY4fs1n+r/4Z/XRt1ZmB5OOHATzzU9DmSgt26jYF0HE3lpgw6Lg5miZ8pR3yJI0qUkAASprlBhvPED5rJmg8KaZaRYWTsPIKwz+J5SIn/aNC5dsy7+8vCF3cp8kUjDEagUYm/odscWM7jR269OaFMnCJNqONCSvyiUXeNd8EXnys20S964+HyBhqV+Azd9kBymDgN7/2cu4jst7pl8rjKyTOLVzeyKcTMTAeUrW1k+5oOM5qERiV+h+7HjDI1mlWiYuSeH4PzKQqnyBKU/eFXge1b9ULlGhc/jyqejK0FjeEz1UDINMNVFovtphdNqFn7IrFpaZkBtAWObdrIjKLJFjWT7k3CfI2+aTHYFNdlTqBZHCTEqRhHRRt/I8s9SvVyV0li5hwaIeJJ4WSesMAaGgFZhGZqkazACbTozNTKLJ1BIxCwi0TfjBYYnqA5Tc/qq1xc6JhTaAQCMrbnNt5f0SbMoBEILD1/HBmlN2jsXKb2zXM52UJjBM4LMG/Q6qq3AY+/9AaMoLDvaSdig2xmp60rjjiQ321H/z86JLazzKs35D71azZNe4lIsEXmyS21wBlHMjl+0qwvc0Grv04iQ+oMXokjrjiTqxw2qr2YF9rzayt4KUxOFi1xRYEC59mOqOy2Pgy0VhNSJEgha3zd81mKZy6kCtXV8yCv0uLw0OKT/wG5DvSAyZr77gAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxNy0xMS0wOVQxOTo0NjozMyswMjowMMJt6eEAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTctMTEtMDlUMTk6NDY6MzMrMDI6MDCzMFFdAAAAH3RFWHRwczpIaVJlc0JvdW5kaW5nQm94ADE1NHgxNTUrMC0xbhFrigAAABx0RVh0cHM6TGV2ZWwAQWRvYmUtMy4wIEVQU0YtMy4wCptwu+MAAAAASUVORK5CYII=',
      size: 6238
    };
  }

  defaultProducts() {
    let defaultImage = this.getDefaultImage();

    return [
      this.productService.save(
        new ProductModel(
          null,
          'Product 1',
          'Description 1',
          defaultImage.image,
          defaultImage.size,
          11
        )
      ),
      this.productService.save(
        new ProductModel(
          null,
          'Product 2',
          'Description 2',
          defaultImage.image,
          defaultImage.size,
          12
        )
      ),
      this.productService.save(
        new ProductModel(
          null,
          'Product 3',
          'Description 3',
          defaultImage.image,
          defaultImage.size,
          13
        )
      ),
    ];
  }

  init() {
    let defaultProducts = localStorage.getItem('products') || JSON.stringify(this.defaultProducts());
    localStorage.setItem('products', defaultProducts);
  }
}

export default AppComponent;
